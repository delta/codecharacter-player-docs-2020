

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Player State &mdash; Codecharacter Player Documentation  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/plain_bot.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Codecharacter Player Documentation  documentation" href="index.html"/>
        <link rel="next" title="Tips and Tricks" href="tips.html"/>
        <link rel="prev" title="DoubleVec2D" href="doublevec2d.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Codecharacter Player Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="default_code.html">Default Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="doublevec2d.html">DoubleVec2D</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Player State</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#state">State</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bot">Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tower">Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging-variables">Logging Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#helpers">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bonus">Bonus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and Tricks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Codecharacter Player Documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Player State</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/player_state.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="player-state">
<h1>Player State<a class="headerlink" href="#player-state" title="Permalink to this headline">¶</a></h1>
<p>This page documents almost everything you’ll need to write code.</p>
<p>It contains every data structure we use to describe the state of the game.</p>
<p>If you haven’t already, you might want to go through the game <a class="reference external" href="overview.html">overview</a> first, to understand the core game and the various elements that you can control. Once you’ve got a hang of the game, this page will help you dive deeper into your code.</p>
<p>You might want to checkout <a class="reference external" href="doublevec2d.html">DoubleVec2D</a> as well.</p>
<div class="section" id="state">
<h2>State<a class="headerlink" href="#state" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv25State">
<span id="State"></span><em class="property">class </em><code class="descclassname"></code><code class="descname">State</code><a class="headerlink" href="#_CPPv25State" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This class represents the state of the game. You are given an instance of this class every round in a parameter called <cite>state</cite>, and you use it to tell the runtime what move you want your units to perform. You have access to view your own units, your opponent units, and the game map.</p>
<dl class="member">
<dt id="_CPPv2N5State3mapE">
<span id="State::map__array:array:TerrainType.MAP_SIZE:.MAP_SIZE:"></span>array&lt;array&lt;TerrainType, <a class="reference internal" href="constants.html#_CPPv28MAP_SIZE" title="MAP_SIZE">MAP_SIZE</a>&gt;, <a class="reference internal" href="constants.html#_CPPv28MAP_SIZE" title="MAP_SIZE">MAP_SIZE</a>&gt; <code class="descclassname"></code><code class="descname">map</code><a class="headerlink" href="#_CPPv2N5State3mapE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The map is a 2D array of <cite>TerrainType</cite> elements, which tell you if a particular type is <strong>LAND</strong>, <strong>WATER</strong>, or a <strong>FLAG</strong>. Remember, your units are not Jesus, and can’t walk on Water.</p>
<p>If you’re unfamiliar with <cite>std::array</cite> in C++, simply use map like a standard 2D array in C.</p>
<p>For example, to check if <cite>(4, 5)</cite> is not water, you could do</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">map</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">TerrainType</span><span class="p">::</span><span class="n">WATER</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can still go through the entire map using a normal or range based for-loop</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">row</span> <span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">map</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">element</span> <span class="p">:</span> <span class="n">row</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">//</span> <span class="n">Do</span> <span class="n">something</span> <span class="k">with</span> <span class="n">element</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State4botsE">
<span id="State::bots__vector:Bot:"></span>vector&lt;<a class="reference internal" href="#_CPPv23Bot" title="Bot">Bot</a>&gt; <code class="descclassname"></code><code class="descname">bots</code><a class="headerlink" href="#_CPPv2N5State4botsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A vector of your own bots. Check down below for more information about the <cite>Bot</cite> object.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State10enemy_botsE">
<span id="State::enemy_bots__vector:Bot:"></span>vector&lt;<a class="reference internal" href="#_CPPv23Bot" title="Bot">Bot</a>&gt; <code class="descclassname"></code><code class="descname">enemy_bots</code><a class="headerlink" href="#_CPPv2N5State10enemy_botsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A vector of the opponent’s bots. Remember, you shouldn’t modify this data, and you can’t perform moves on an opponent unit.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State8num_botsE">
<span id="State::num_bots__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">num_bots</code><a class="headerlink" href="#_CPPv2N5State8num_botsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bots.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State14num_enemy_botsE">
<span id="State::num_enemy_bots__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">num_enemy_bots</code><a class="headerlink" href="#_CPPv2N5State14num_enemy_botsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of enemy bots.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State5scoreE">
<span id="State::score__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">score</code><a class="headerlink" href="#_CPPv2N5State5scoreE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Integer containing your current game score. You can only see your own score, and can’t peek at your opponent’s!</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State6towersE">
<span id="State::towers__vector:Tower:"></span>vector&lt;<a class="reference internal" href="#_CPPv25Tower" title="Tower">Tower</a>&gt; <code class="descclassname"></code><code class="descname">towers</code><a class="headerlink" href="#_CPPv2N5State6towersE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A vector of your own towers. Check down below for more information about the <cite>Tower</cite> object.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State12enemy_towersE">
<span id="State::enemy_towers__vector:Tower:"></span>vector&lt;<a class="reference internal" href="#_CPPv25Tower" title="Tower">Tower</a>&gt; <code class="descclassname"></code><code class="descname">enemy_towers</code><a class="headerlink" href="#_CPPv2N5State12enemy_towersE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A vector of the opponent’s towers. Remember, you shouldn’t modify this data, and you can’t perform moves on an opponent unit.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State10num_towersE">
<span id="State::num_towers__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">num_towers</code><a class="headerlink" href="#_CPPv2N5State10num_towersE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of towers.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State16num_enemy_towersE">
<span id="State::num_enemy_towers__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">num_enemy_towers</code><a class="headerlink" href="#_CPPv2N5State16num_enemy_towersE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of enemy towers.</p>
<p>A vector of the opponent’s towers. Remember, you shouldn’t modify this data, and you can’t perform moves on an opponent unit.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State12flag_offsetsE">
<span id="State::flag_offsets__vector:Vec2D:"></span>vector&lt;Vec2D&gt; <code class="descclassname"></code><code class="descname">flag_offsets</code><a class="headerlink" href="#_CPPv2N5State12flag_offsetsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A vector containing the center of offsets for the flag tiles on the map. You can iterate through the map and check for <cite>TerrainType::FLAG</cite>, or you can use this vector instead.</p>
<p>For example, to make the first two bots each transform at the first two flag locations on the map, you would do</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">flag_offsets</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="n">state</span><span class="o">.</span><span class="n">villagers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">flag_offsets</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5State5scoreE">
int64_t <code class="descclassname"></code><code class="descname">score</code><a class="headerlink" href="#_CPPv2N5State5scoreE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Integer containing your current game score. You can only see your own score, and can’t peek at your opponent’s!</p>
</dd></dl>

</dd></dl>

<p>Inside the <cite>state</cite> object, we have vectors of bots and towers as shown above. We’ll continue with a description of each of those classes.</p>
</div>
<div class="section" id="bot">
<h2>Bot<a class="headerlink" href="#bot" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv23Bot">
<span id="Bot"></span><em class="property">class </em><code class="descclassname"></code><code class="descname">Bot</code><a class="headerlink" href="#_CPPv23Bot" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The Bot is a mobile unit. Use your bot to build towers of your own and destroy the opponents.</p>
<dl class="member">
<dt id="_CPPv2N3Bot2idE">
<span id="Bot::id__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">id</code><a class="headerlink" href="#_CPPv2N3Bot2idE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A unique ID associated with this bot. It will never change.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N3Bot8positionE">
<span id="Bot::position__DoubleVec2D"></span>DoubleVec2D <code class="descclassname"></code><code class="descname">position</code><a class="headerlink" href="#_CPPv2N3Bot8positionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The bot’s current position on the map.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N3Bot2hpE">
<span id="Bot::hp__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">hp</code><a class="headerlink" href="#_CPPv2N3Bot2hpE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The bot’s curent HP. Note that the max value of hp can be accessed from <cite>MAX_BOT_HP</cite>.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N3Bot5stateE">
<span id="Bot::state__BotState"></span>BotState <code class="descclassname"></code><code class="descname">state</code><a class="headerlink" href="#_CPPv2N3Bot5stateE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The current state of the bot. This member tells you what the soldier is doing right now, and has values <strong>IDLE</strong>,
<strong>BLAST</strong>, <strong>TRANSFORM</strong>, <strong>ATTACK</strong> AND <strong>DEAD</strong>.</p>
<p>For example, to check for all your bots who are currently moving, you could do</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot</span> <span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">BotState</span><span class="p">::</span><span class="n">MOVE</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">//</span> <span class="n">Do</span> <span class="n">something</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N3Bot4moveE11DoubleVec2D">
<span id="Bot::move__DoubleVec2D"></span><code class="descclassname"></code><code class="descname">move</code><span class="sig-paren">(</span>DoubleVec2D <em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N3Bot4moveE11DoubleVec2D" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specify a position to which the bot should move. Note that you don’t need to keep moving your bot or find a path.
The engine handles path finding for you. Simply tell the bot where to go!</p>
<p>For example, let’s say you want the first bot to move to the position where the first enemy bot is</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DoubleVec2D</span> <span class="n">first_enemy_bot_pos</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">enemy_bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">position</span><span class="p">;</span>

<span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">move</span><span class="p">(</span> <span class="n">first_enemy_bot_pos</span> <span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N3Bot5blastEv">
<span id="Bot::blast"></span><code class="descclassname"></code><code class="descname">blast</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N3Bot5blastEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Blast the bot at current position. A bot can blast anytime and anywhere in the map it can reach.</p>
<p>For example, blasting the first bot</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">blast</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N3Bot5blastE11DoubleVec2D">
<span id="Bot::blast__DoubleVec2D"></span><code class="descclassname"></code><code class="descname">blast</code><span class="sig-paren">(</span>DoubleVec2D <em>blast_position</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N3Bot5blastE11DoubleVec2D" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Blast the bot at <code class="docutils literal"><span class="pre">blast_position</span></code>. The bot moves to blast_position and then blasts. If the position is not
reachable, the bot switches to IDLE state and does not move from current position.</p>
<p>NOTE: The bot does not move and blast in the same turn. If it reaches the blast_position in one turn, it blasts
only in the next turn.</p>
<p>For example, blasting the first bot</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">blast</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N3Bot9transformEv">
<span id="Bot::transform"></span><code class="descclassname"></code><code class="descname">transform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N3Bot9transformEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Transform the bot at current position. A bot can transform only if,</p>
<blockquote>
<div><ul class="simple">
<li>The current tile bot is in has no other units in it.</li>
<li>The current tile is not one of the spawn tiles of the players.</li>
</ul>
<p>If any of the above cases fails, the bot switches to IDLE state.</p>
</div></blockquote>
<p>For example, transforming the first three bots</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tower</span><span class="p">({</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">})</span>
<span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tower</span><span class="p">({</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">4.7</span><span class="p">})</span>
<span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tower</span><span class="p">({</span><span class="mf">4.2</span><span class="p">,</span> <span class="mf">4.9</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N3Bot9transformE11DoubleVec2D">
<span id="Bot::transform__DoubleVec2D"></span><code class="descclassname"></code><code class="descname">transform</code><span class="sig-paren">(</span>DoubleVec2D <em>transform_position</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N3Bot9transformE11DoubleVec2D" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Transform the bot at <code class="docutils literal"><span class="pre">transform_position</span></code>. The bot moves to blast_position and then blasts. A bot can move and transform
only if,</p>
<blockquote>
<div><ul class="simple">
<li>The destination tile, which transform_position belongs to, is not one of the spawn tiles of the players</li>
<li>The destination tile is reachable</li>
</ul>
<p>If any of the above cases fails, the bot switches to IDLE state.</p>
</div></blockquote>
<p>NOTE: The bot does not move and transform in the same turn. If it reaches the transform_position in one turn, it transforms
only in the next turn.</p>
<p>After reaching the transform_position, the bot transforms only if that tile has no other units in it. Else, it switches to
IDLE state.</p>
<p>For example, blasting the first bot</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="o">.</span><span class="n">front</span><span class="p">();</span>

<span class="n">bot</span><span class="o">.</span><span class="n">blast</span><span class="p">({</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tower">
<h2>Tower<a class="headerlink" href="#tower" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv25Tower">
<span id="Tower"></span><em class="property">class </em><code class="descclassname"></code><code class="descname">Tower</code><a class="headerlink" href="#_CPPv25Tower" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Tower is a stationary strategic unit. A sequence of towers can block bots from passing through and acts as a defense unit.
The tower’s blast is also much powerful than a bot’s blast.</p>
<dl class="member">
<dt id="_CPPv2N5Tower2idE">
<span id="Tower::id__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">id</code><a class="headerlink" href="#_CPPv2N5Tower2idE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A unique ID associated with this tower. It will never change.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5Tower8positionE">
<span id="Tower::position__DoubleVec2D"></span>DoubleVec2D <code class="descclassname"></code><code class="descname">position</code><a class="headerlink" href="#_CPPv2N5Tower8positionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The tower’s current position on the map.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5Tower2hpE">
<span id="Tower::hp__int64_t"></span>int64_t <code class="descclassname"></code><code class="descname">hp</code><a class="headerlink" href="#_CPPv2N5Tower2hpE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The tower’s curent HP. Note that the max value of hp can be accessed from <cite>MAX_TOWER_HP</cite>.</p>
</dd></dl>

<dl class="member">
<dt id="_CPPv2N5Tower5stateE">
<span id="Tower::state__TowerState"></span>TowerState <code class="descclassname"></code><code class="descname">state</code><a class="headerlink" href="#_CPPv2N5Tower5stateE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The current state of the tower. This member tells you what the tower is doing right now, and has values <strong>IDLE</strong>, <strong>BLAST</strong>, <strong>DEAD</strong>.</p>
<p>For example, to check for all your towers who are idle, you could do</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">tower</span> <span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">towers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tower</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">TowerState</span><span class="p">::</span><span class="n">IDLE</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">//</span> <span class="n">Do</span> <span class="n">something</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N5Tower5blastEv">
<span id="Tower::blast"></span><code class="descclassname"></code><code class="descname">blast</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N5Tower5blastEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Blast the tower. The tower cannot blast until it has attained a specific age <code class="docutils literal"><span class="pre">TOWER_MIN_BLAST_AGE</span></code></p>
<p>For example, blasting all towers</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">tower</span> <span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">towers</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">tower</span><span class="o">.</span><span class="n">blast</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="logging-variables">
<h2>Logging Variables<a class="headerlink" href="#logging-variables" title="Permalink to this headline">¶</a></h2>
<p>Note that <em>everything</em> shown above is printable. You can log any of this to output and view it in your game log. (Remember to use <code class="docutils literal"><span class="pre">logr</span></code> and not <code class="docutils literal"><span class="pre">cout</span></code>!)</p>
<p>For example, if you want to print out the properties of a particular Villager, you could do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">logr</span> <span class="o">&lt;&lt;</span> <span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p><em>Output</em></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Bot</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">position</span><span class="p">:</span> <span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
        <span class="n">hp</span><span class="p">:</span> <span class="mi">80</span>
        <span class="n">state</span><span class="p">:</span> <span class="n">IDLE</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can even log the entire <cite>state</cite> variable. Keep in mind, your output will be quite large.</p>
</div>
<div class="section" id="helpers">
<h2>Helpers<a class="headerlink" href="#helpers" title="Permalink to this headline">¶</a></h2>
<p>Along with the game state, we’ve included some helper methods to make it easier for you to implement your logic.</p>
<p>Something useful for you when implementing your logic would be to find the nearest flag position from any given position.</p>
<dl class="function">
<dt id="_CPPv223findNearestFlagPositionRK5State11DoubleVec2D">
<span id="findNearestFlagPosition__StateCR.DoubleVec2D"></span><code class="descclassname"></code><code class="descname">findNearestFlagPosition</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv25State" title="State">State</a> &amp;<em>state</em>, DoubleVec2D <em>position</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv223findNearestFlagPositionRK5State11DoubleVec2D" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p>Returns the nearest flag position from a given position. This function can be used by bots to find the closest flag to which they
can move to</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">bots</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">auto</span> <span class="n">nearest_flag</span> <span class="o">=</span> <span class="n">findNearestFlagPosition</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">bot</span><span class="o">.</span><span class="n">position</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Bot</span> <span class="n">finds</span> <span class="n">the</span> <span class="n">nearest</span> <span class="n">flag</span> <span class="ow">and</span> <span class="n">moves</span> <span class="n">into</span> <span class="n">the</span> <span class="n">flag</span> <span class="n">area</span>
<span class="n">bot</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">nearest_flag</span><span class="p">)</span>
</pre></div>
</div>
<dl class="function">
<dt id="_CPPv210getBotByIdR5State7int64_t">
<span id="getBotById__StateR.int64_t"></span><code class="descclassname"></code><code class="descname">getBotById</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv25State" title="State">State</a> &amp;<em>state</em>, int64_t <em>bot_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv210getBotByIdR5State7int64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p>Returns the corresponding <code class="docutils literal"><span class="pre">Bot</span></code> by reference when given the bot’s id. This comes in handy when assigning different bots different
tasks and keeping track of their progress</p>
<p>It can be used in the following way</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot_blast</span> <span class="o">=</span> <span class="n">getBotById</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="o">//</span> <span class="n">Returns</span> <span class="n">a</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">bot</span> <span class="k">with</span> <span class="n">actor</span> <span class="nb">id</span> <span class="mi">1</span>
<span class="n">bot_blast</span><span class="o">.</span><span class="n">blast</span><span class="p">(</span><span class="n">DoubleVec2D</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span> <span class="o">//</span> <span class="n">Making</span> <span class="n">this</span> <span class="n">bot</span> <span class="n">blast</span>

<span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot_transform</span> <span class="o">=</span> <span class="n">getBotById</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="o">//</span> <span class="n">Reference</span> <span class="n">to</span> <span class="n">bot</span> <span class="k">with</span> <span class="nb">id</span> <span class="mi">2</span>
<span class="n">bot_transform</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">DoubleVec2D</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">));</span> <span class="o">//</span> <span class="n">Making</span> <span class="n">this</span> <span class="n">bot</span> <span class="n">move</span> <span class="n">to</span> <span class="n">position</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="ow">and</span> <span class="n">transform</span> <span class="n">three</span>

<span class="n">auto</span> <span class="o">&amp;</span><span class="n">bot_move</span> <span class="o">=</span> <span class="n">getBotById</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="o">//</span> <span class="n">Bot</span> <span class="k">with</span> <span class="n">actor</span> <span class="nb">id</span> <span class="mi">3</span>
<span class="n">bot_move</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">DoubleVec2D</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span> <span class="o">//</span> <span class="n">Making</span> <span class="n">this</span> <span class="n">bot</span> <span class="n">move</span> <span class="n">into</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">position</span> <span class="n">like</span> <span class="n">a</span> <span class="n">flag</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Returns <code class="docutils literal"><span class="pre">Bot::null</span></code> if no bot exists with the given bot id. <code class="docutils literal"><span class="pre">Bot::null</span></code> is basically a bot constructed with an id of
<code class="docutils literal"><span class="pre">-1</span></code></p>
</div>
<dl class="function">
<dt id="_CPPv212getTowerByIdR5State7int64_t">
<span id="getTowerById__StateR.int64_t"></span><code class="descclassname"></code><code class="descname">getTowerById</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv25State" title="State">State</a> &amp;<em>state</em>, int64_t <em>tower_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv212getTowerByIdR5State7int64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p>Returns the corresponding <code class="docutils literal"><span class="pre">Tower</span></code> by reference when given the tower’s id. It can be used in the following way</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="o">&amp;</span><span class="n">tower_blast</span> <span class="o">=</span> <span class="n">getTowerById</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span> <span class="o">//</span> <span class="n">Returns</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">tower</span> <span class="k">with</span> <span class="n">actor</span> <span class="nb">id</span> <span class="mi">12</span>
<span class="n">tower_blast</span><span class="o">.</span><span class="n">blast</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Returns <code class="docutils literal"><span class="pre">Tower::null</span></code> if no tower exists with the given tower id . <code class="docutils literal"><span class="pre">Tower::null</span></code> is a tower constructed with an id of <code class="docutils literal"><span class="pre">-1</span></code></p>
</div>
</div>
<div class="section" id="bonus">
<h2>Bonus<a class="headerlink" href="#bonus" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv217findNearestOffsetRK5State5Vec2DNSt8functionIFb11TerrainType8uint64_tEEE">
<code class="descclassname"></code><code class="descname">findNearestOffset</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv25State" title="State">State</a> &amp;<em>state</em>, Vec2D <em>position</em>, std::function&lt;bool<span class="sig-paren">(</span>TerrainType type, uint64_t position_count<span class="sig-paren">)</span>&gt;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv217findNearestOffsetRK5State5Vec2DNSt8functionIFb11TerrainType8uint64_tEEE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p>A general purpose function with which you can find the nearest target position from the source position which satisfies a condition
defined by you.</p>
<p>Each offset in the map will be checked against this function which is passed the terrain type of that offset and the total
number of bots or towers in that offset</p>
<p>It may look a bit scary but can be utilized using this function using C++ Lambda functions. Let us look at an example where we find
the nearest position where there are no bots or towers</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">nearest_desolate_position</span> <span class="o">=</span> <span class="p">[](</span><span class="n">TerrainType</span> <span class="n">terrain</span><span class="p">,</span> <span class="n">uint64_t</span> <span class="n">actor_count</span><span class="p">){</span>
        <span class="o">//</span> <span class="n">Returns</span> <span class="nb">any</span> <span class="n">position</span> <span class="k">with</span> <span class="n">actor</span> <span class="n">count</span> <span class="n">of</span> <span class="mi">0</span> <span class="n">irrespective</span> <span class="n">of</span> <span class="n">terrain</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">actor_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tips.html" class="btn btn-neutral float-right" title="Tips and Tricks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="doublevec2d.html" class="btn btn-neutral" title="DoubleVec2D" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Delta Force.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>